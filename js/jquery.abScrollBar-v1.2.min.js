/*!
 * abScrollBar v1.2 滚动条模拟插件
 * 更多详尽信息请看官网( http://ab.geshai.com/other-plus/abScrollBar/abScrollBar.html )
 *
 * 有疑难问题可选择QQ群① 158544200 或QQ群② 790370978 进行反馈
 *
 * Carlo,Cloud
 *
 * 请尊重原创，保留头部版权
 * 在保留版权的前提下可应用于个人或商业用途
 *
 */
;function abScrollBar(a){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,b={extend:function(a,b){for(var c in b)a[c]=b[c];return a},px:function(a){return a.toString()+"px"},isEmpty:function(a){return null==a||"undefined"==typeof a||""==a},toBool:function(a){return a===!0},toFloat:function(a){return parseFloat(a)},isInit:function(){return"true"==c.attr(a._iname)},randStr:function(){var d,a=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],b="",c="";for(d=0;10>d;d++)b=Math.max(Math.ceil(26*Math.random()),1),c+=""+a[b-1];return c},isX:function(){return"x"==a.scrollType.toString().toLowerCase()},scrollDo:function(){0>=i&&(i=0);var a="top";b.isX()?(a="left",i>B&&(i=B)):i>C&&(i=C),f.css(a,b.px(i)),c.css(a,b.px(-(i*D)))},barEvent:function(){f.mousedown(function(a){g=!0,a=window.event?window.event:a,b.isX()?(j=f.offset().left+n-x,j=n-(j-(a.clientX-x))):(j=f.offset().top+m-y,j=m-(j-(a.clientY-y))),document.onmousemove=function(a){return g?(a=window.event?window.event:a,a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!1,a.returnValue=!1,i=b.isX()?a.clientX-x-j:a.clientY-y-j,b.scrollDo(),void 0):!0},document.onmouseup=function(){g=!1,document.onselectstart=function(){return!0},h&&e.stop(!0,!0).fadeOut(q)},document.onselectstart=function(){return!1},a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!1,a.returnValue=!1})},mousewheel:function(){var a=/Firefox/i.test(navigator.userAgent)?"DOMMouseScroll":"mousewheel",d=function(a){a=a||window.event;var c=a.detail?-a.detail/3:a.wheelDelta/120;a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!1,a.returnValue=!1,i+=c>0?-s:s,b.scrollDo()},f=function(b){b.attachEvent?b.attachEvent("on"+a,d):b.addEventListener&&b.addEventListener(a,d,!1)};f(c[0]),f(e[0])},hideBar:function(){return r?(d.bind("mouseenter",function(){clearTimeout(u),h=!1,e.stop(!0,!0).fadeIn(q)}),d.bind("mouseleave",function(){u=setTimeout(function(){h=!0,g||e.stop(!0,!0).fadeOut(q)},t)}),void 0):!1},computeContentWH:function(){var e,a=b.randStr(),d=[0,0,"10000%"];c.wrapInner('<div class="'+a+'"></div>'),e=$("."+a,c),b.isX()?(e.css("width",d[2]).children().each(function(a,b){d[0]+=$(b).outerWidth(!0)+1}),c.width(b.px(d[0]))):(e.css("height",d[2]).children().each(function(a,b){d[1]+=$(b).outerHeight(!0)+1}),c.height(b.px(d[1]))),e.contents().unwrap()},init:function(){var a=b.randStr(),g=b.randStr(),h=["","","background:#fafafa;","background:#ccc;"];b.isEmpty(l)||(h[0]=l,h[2]=""),b.isEmpty(k)||(h[1]=k,h[3]=""),c.wrap('<div id="'+a+'" style="position:relative;margin:0px;padding:0px;overflow:hidden;"></div>'),d=$("#"+a).css({width:b.px(o),height:b.px(p)}),d.append('<div id="'+g+'" class="'+h[0]+'" style="position:absolute;z-index:2;overflow:hidden;display:none;'+h[2]+'"><em class="'+h[1]+'" style="position:relative;left:0px;top:0px;width:100%;height:100%;overflow:hidden;border-radius:5px;display:block;'+h[3]+'"></em></div>'),e=$("#"+g),b.isX()?e.css({left:b.px(0),bottom:b.px(0),width:b.px(o),height:b.px(m)}):e.css({top:b.px(0),right:b.px(0),width:b.px(n),height:b.px(p)}),f=e.children().first(),c.css({position:"absolute",left:b.px(0),top:b.px(0)})}};return a=b.extend({scrollType:"y",contentEl:"",barClass:"",barBgClass:"",barWidth:6,barHeight:6,width:300,height:300,mousewheelStep:30,speed:350,isHideBar:!1,_version:1.2,_innerClass:"ab-scroll-wrap-inner",_iname:"ab-scroll-init",_ivalue:"yes"},a),c=$(a.contentEl),0==c.length||b.isInit()?!1:(c.attr(a._iname,a._ivalue),b.computeContentWH(),g=!1,h=!1,i=0,j=0,k=a.barClass,l=a.barBgClass,m=b.toFloat(a.barHeight),n=b.toFloat(a.barWidth),o=b.toFloat(a.width),p=b.toFloat(a.height),q=a.speed,r=b.toBool(a.isHideBar),s=a.mousewheelStep,t=50,v=c.outerWidth(),w=c.outerHeight(),b.init(),x=d.offset().left,y=d.offset().top,z=v-o,A=w-p,n=o/v,m=p/w,B=o-n*o,C=p-m*p,D=0,b.isX()?(D=z/B,f.width(100*n+"%"),n=f.width()):(D=A/C,f.height(100*m+"%"),m=f.height()),b.isX()?z>0&&(r||e.stop(!0,!0).fadeIn(q)):A>0&&(r||e.stop(!0,!0).fadeIn(q)),b.barEvent(),b.mousewheel(),b.hideBar(),void 0)};